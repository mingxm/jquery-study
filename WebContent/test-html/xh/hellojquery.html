<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>这是我的第一个jquery页面</title>
<script type="text/javascript" src="../../js/jquery/myplugin/xh/jquery-1.5-xh.js"></script>
<head>
<body>


我想创建一个按钮，点击之后显示jquery对象。
<input type="button" value="显示jquery对象" onclick="showJQueryObj()"/>

<p/>
我想看下有名的$函数，跟踪一下它，
<input type="button" value="运行$函数" onclick="run$()" id="btn1"/><br/>
（跟踪的结论：$是一个函数，也是一个类，它的真名叫jQuery。作函数用时，它的原型是function( selector, context ) ，通常的作用是查找符合条件的dom元素。）

<p/>
<ul>几种选择器的写法：
<li>$("input")是找出所有input控件<input type="button" value="找出所有input控件" onclick="$_input()"/></li>
<li>$("#btn1")是找出id为btn1的控件<input type="button" value="找出id=btn1的控件" onclick="$_btn1()"/>
<br/>（注意：像$("id=btn1")不行，#btn1的写法和css的选择器写法是一致的）
<li>$("input[value*=找出]")  <input type="button" value="找出所有文字中含“找到”二字的按钮" onclick="$_find()"/>
</li>
<li>$("input:first")  <input type="button" value="找出第一个input控件" onclick="$_findFirstInput()"/>
</li>
</ul>

<p/>
下面我要写一个简单的js调试器，包括一个输入框和一个运行按钮
<br/><textarea rows="10" cols="100" id="code1">
//input you code here, and click run button
</textarea>
<input type="button" value="运行" id="runbtn1"/>


<p>
下面我想动态创建一个js调试器， <input type="button" value="创建js调试器" id="debugBtn1"/>
</p>

<p/>
<ul>下面我想验证下jQuery下面定义的全局函数
<li>var a1 = $.isFunction( function(a){} )<input type="button" value="执行" onclick='var a1 = $.isFunction( function(a){} );alert("a1=【"+a1+"】");'/>true</li>
<li>var a1 = $.isFunction( 123 )<input type="button" value="执行" onclick='var a1 = $.isFunction( 123 );alert("a1=【"+a1+"】");'/>false</li>
<li>var a1 = $.type( 123 )<input type="button" value="执行" onclick='var a1 = $.type( 123 );alert("a1=【"+a1+"】");'/>number</li>
<li>var a1 = $.type( {} )<input type="button" value="执行" onclick='var a1 = $.type( {} );alert("a1=【"+a1+"】");'/>object</li>
<li>var a1 = $.type( "abc" )<input type="button" value="执行" onclick='var a1 = $.type( "abc" );alert("a1=【"+a1+"】");'/>string</li>
<li>var a1 = $.type( jQuery )<input type="button" value="执行" onclick='var a1 = $.type( jQuery );alert("a1=【"+a1+"】");'/>function</li>
<li>var a1 = $.type( document )<input type="button" value="执行" onclick='var a1 = $.type( document );alert("a1=【"+a1+"】");'/>object</li>
<li>var a1 = $.type( $("body") )<input type="button" value="执行" onclick='var a1 = $.type( $("body") );alert("a1=【"+a1+"】");'/>object</li>
<li>var a1 = $.type( $("body").toArray() )<input type="button" value="执行" onclick='var a1 = $.type( $("body").toArray() );alert("a1=【"+a1+"】");'/>array</li>
<li>var a1 = $.isPlainObject( 123 )<input type="button" value="执行" onclick='var a1 = $.isPlainObject( 123 );alert("a1=【"+a1+"】");'/>false</li>
<li>var a1 = $.isPlainObject( {} )<input type="button" value="执行" onclick='var a1 = $.isPlainObject( {} );alert("a1=【"+a1+"】");'/>true</li>
<li>var a1 = $.isPlainObject( {name:1,value:2} )<input type="button" value="执行" onclick='var a1 = $.isPlainObject( {name:1,value:2} );alert("a1=【"+a1+"】");'/>true</li>
<li>var a1 = $.isPlainObject( "abc" )<input type="button" value="执行" onclick='var a1 = $.isPlainObject( "abc" );alert("a1=【"+a1+"】");'/>false</li>
<li>var a1 = $.isPlainObject( jQuery )<input type="button" value="执行" onclick='var a1 = $.isPlainObject( jQuery );alert("a1=【"+a1+"】");'/>false</li>
<li>var a1 = $.isPlainObject( document )<input type="button" value="执行" onclick='var a1 = $.isPlainObject( document );alert("a1=【"+a1+"】");'/>false</li>
<li>var a1 = $.now()<input type="button" value="执行" onclick='var a1 = $.now();alert("a1=【"+a1+"】");'/>1298093713927</li>
<li>var a1 = $.uaMatch(navigator.userAgent)<input type="button" value="执行" onclick='var a1 = $.uaMatch(navigator.userAgent);alert("a1=【"+a1.browser+","+a1.version+"】");'/>msie,8.0</li>
<li>var a1 = $.hasData(document)<input type="button" value="执行" onclick='var a1 = $.hasData(document);alert("a1=【"+a1+"】");'/>false</li>


</ul>

<p/>
<ul>下面我想验证下jQuery.fn下面定义的成员方法（window.qobj = $("input");）
<li>var a1 = qobj.get(0);<input type="button" value="执行1" onclick='var a1=qobj.get(0);alert("a1是"+a1.tagName+"元素");'/>a1是input元素，是一个DOM对象</li>
<li>var a1 = qobj.eq(0);<input type="button" value="执行2" onclick='var a1=qobj.eq(0);alert("a1是jQuery对象，它的length是【"+a1.val()+"】");'/>a1是jQuery对象，它的length是1</li>
<li>var a1 = qobj.eq(-1);<input type="button" value="执行3" onclick='var a1=qobj.eq(-1);alert("a1是jQuery对象，它的html是【"+a1.val()+"】");'/>a1是jQuery对象，它的length是1</li>
<li>var a1 = qobj.eq(-2);<input type="button" value="执行3" onclick='var a1=qobj.eq(-2);alert("a1是jQuery对象，它的html是【"+a1.val()+"】");'/>a1是jQuery对象，它的length是1</li>
<li>var a1 = qobj.slice(1,3);<input type="button" value="执行4" onclick='var a1=qobj.slice(1,3);alert("a1是jQuery对象，它的length是【"+a1.size()+"】");'/>a1是jQuery对象，它的length是1</li>
<li>$(document).data("time", $.now());var a1 = $.hasData(document)<input type="button" value="执行" onclick='$(document).data("time",$.now());var a1 = $.hasData(document);alert("a1=【"+a1+"】");'/>true</li>
<li>$(document).data("user", "xty");var a1 = $(document).data("user");<input type="button" value="执行" onclick='$(document).data("user", "xty");var a1 = $(document).data("user");alert("a1=【"+a1+"】");'/>xty</li>
<li>$(document).data({a:1,b:2,c:3});var a1 = $(document).data("a");<input type="button" value="执行" onclick='$(document).data({a:1,b:2,c:3});var a1 = $(document).data("a");alert("a1=【"+a1+"】");'/>a1=1
<br/>（说明：data(obj)会将obj的所有属性拷贝到document的自定义属性中，原有属性会保留）	
</li>
<li>$(document).data("user", "xty");var a1 = $(document).data().user;<input type="button" value="执行" onclick='$(document).data("user", "xty");var a1 = $(document).data().user;alert("a1=【"+a1+"】");'/>xty</li>
<li>$(document).removeData("user");var a1 = $(document).data("user");<input type="button" value="执行" onclick='$(document).removeData("user");var a1 = $(document).data("user");alert("a1=【"+a1+"】");'/>undefined</li>
<li>$("input").toggle(true);<input type="button" value="执行动画" onclick='$("input").toggle("slow");'/>可以看到所有按钮都慢慢消失</li>
<li>var a1=$("input").last().parent().join();<input type="button" value="执行" onclick='var a1=$("input").last().parent().join();alert("a1=【"+a1+"】");'/>LI</li>
<li>var a1=$("input").last().parents().join();<input type="button" value="执行" onclick='var a1=$("input").last().parents().join();alert("a1=【"+a1+"】");'/>LI,UL,BODY,HTML</li>
<li>var a1=$("input").parent().join();<input type="button" value="执行" onclick='var a1=$("input").parent().join();alert("a1=【"+a1+"】");'/>BODY,P,LI,LI,LI,LI,P,P,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,</li>
<li>var a1=$("input").parents().join();<input type="button" value="执行" onclick='var a1=$("input").parents().join();alert("a1=【"+a1+"】");'/>LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,UL,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,LI,UL,P,P,LI,LI,LI,LI,UL,P,BODY,HTML</li>
<li>var a1=$("input").next().join();<input type="button" value="执行" onclick='var a1=$("input").next().join();alert("a1=【"+a1+"】");'/>P,BR,BR,BR</li>
<li>var a1=$("input").prev().join();<input type="button" value="执行" onclick='var a1=$("input").prev().join();alert("a1=【"+a1+"】");'/>TEXTAREA</li>
<li>var a1=$("input").nextAll().join();<input type="button" value="执行" onclick='var a1=$("input").nextAll().join();alert("a1=【"+a1+"】");'/>P,BR,P,UL,BR,P,P,P,UL,P,UL,BR,SCRIPT</li>
<li>var a1=$("input").prevAll().join();<input type="button" value="执行" onclick='var a1=$("input").prevAll().join();alert("a1=【"+a1+"】");'/>TEXTAREA,BR</li>
<li>var a1=$("input").siblings().join();<input type="button" value="执行" onclick='var a1=$("input").siblings().join();alert("a1=【"+a1+"】");'/>P,BR,P,UL,BR,P,BR,TEXTAREA,P,P,UL,P,UL,BR,SCRIPT</li>
<li>var a1=$("input").first().parent().children().join();<input type="button" value="执行" onclick='var a1=$("input").first().parent().children().join();alert("a1=【"+a1+"】");'/>INPUT,P,P,UL,P,P,P,UL,P,UL,SCRIPT</li>
<li>var a1=$("input").first().parent().contents().join();<input type="button" value="执行" onclick='var a1=$("input").first().parent().contents().join();alert("a1=【"+a1+"】");'/>undefined,INPUT,undefined,P,P,UL,P,P,P,UL,P,UL,SCRIPT</li>
<li>$("#div_text").text("completed");<input type="button" value="执行" onclick='$("#div_text").text("completed");'/><div id="div_text">设置本div的文字</div></li>
<li>$("input").css("background","#ff0000");<input type="button" value="执行" onclick='$("input").css("background","#ff0000");'/>将所有input按钮的背景色设置成红色</li>
<li>$("input").css({color:"#ff0000", fontSize:"20pt", border:"4px solid #000000"});<input type="button" value="执行" onclick='$("input").css({color:"#ff0000", fontSize:"20pt", border:"4px solid #000000"});'/>设置按钮的字体颜色、大小、边框</li>
<li>var a1 = $("input").css("fontSize");<input type="button" value="执行" onclick='var a1 = $("input").css("fontSize");alert("a1=【"+a1+"】");'/>13px</li>
<li id="li_show">$("li").show("slow");<input type="button" value="显示所有li元素-slow" onclick='$("li").show("slow");'/></li>
<li>$("li:not(#li_show)").hide("slow");<input type="button" value="隐藏所有li元素-slow" onclick='$("li:not(#li_show)").hide("slow");'/></li>
<li>$("li:not(#li_show)").hide(5000);<input type="button" value="在5秒钟之内隐藏所有li元素" onclick='$("li:not(#li_show)").hide(5000);'/></li>
<li id="li_hide2">$("li:not(#li_show2)").hide();<input type="button" value="隐藏所有li元素" onclick='$("li:not(#li_show2)").hide();'/></li>
<li id="li_show2">$("li:not(#li_show2)").show();<input type="button" value="显示所有li元素" onclick='$("li:not(#li_show2)").show();'/></li>
<li id="li_toggle">$("li:not(#li_toggle)").toggle();<input type="button" value="切换li元素显示或者隐藏" onclick='$("li:not(#li_toggle)").toggle();'/></li>
<li id="li_fadein">$("li").fadeIn("slow");<input type="button" value="淡入" onclick='$("li").fadeIn("slow");'/></li>
<li>$("li:not(#li_fadein)").fadeOut("slow");<input type="button" value="淡出" onclick='$("li:not(#li_fadein)").fadeOut("slow");'/></li>
<li id="li_fadein">$("li").fadeIn(5000);<input type="button" value="慢点淡入" onclick='$("li").fadeIn(5000);'/></li>
<li>$("li:not(#li_fadein)").fadeOut(5000);<input type="button" value="慢点淡出" onclick='$("li:not(#li_fadein)").fadeOut(5000);'/></li>
<li>$("input").animate({opacity: 0.4}, 5000);<input type="button" value="animate演示1" onclick='$("input").animate({opacity: 0.4}, 5000);'/></li>
<li>$("input").animate({width:200, opacity: 0.4}, 5000);<input type="button" value="animate演示2" onclick='$("input").animate({width:10, opacity: 0.4}, 5000);'/></li>
<li>$("input").stop();<input type="button" value="停止动画显示" onclick='$("input").stop();'/></li>
<li id="li_slideUp">$("li:not(#li_slideDown)").slideUp(5000);<input type="button" value="从上往下关闭" onclick='$("li:not(#li_slideDown)").slideUp(5000);'/></li>
<li id="li_slideDown">$("li").slideDown(5000);<input type="button" value="从下往上长出" onclick='$("li").slideDown(5000);'/></li>
<li id="position">var a1 = $("#position").position().top;<input type="button" value="执行" onclick='var a1 = $("#position").position().top;alert("a1=【"+a1+"】");'/></li>
<li>var a1 = $("#position").scrollLeft();<input type="button" value="执行" onclick='var a1 = $("#position").scrollLeft();alert("a1=【"+a1+"】");'/></li>
<li>var a1 = $("#position").scrollTop();<input type="button" value="执行" onclick='var a1 = $("#position").scrollTop();alert("a1=【"+a1+"】");'/></li>
<li>var a1 = $("#position").height();<input type="button" value="执行" onclick='var a1 = $("#position").height();alert("a1=【"+a1+"】");'/></li>
<li>var a1 = $("#position").width();<input type="button" value="执行" onclick='var a1 = $("#position").width();alert("a1=【"+a1+"】");'/></li>

</ul>

<div id="bottom"></div>
</body>

<script type="text/javascript">
function showJQueryObj(){
	alert(jQuery);
}

function run$(){
	var btns = $("input[id='btn1']");
	alert("$(\"input[id='btn1']\")可以找到按钮【"+btns[0].value+"】");
}

function $_input(){
	var inputs = $("input");
	
	var text = "";
	inputs.each(function(){
		text+=this.type+",";
	});
	alert("有【"+inputs.length+"】个input控件，分别是"+text);
}

function $_btn1(){
	var btns = $("#btn1");
	alert("btn1的文字是【"+btns[0].value+"】控件");
}

function $_find(){
	var btns = $('input[value*="找出"]');
	alert("找到【"+btns.length+"】个文字含“找到”的按钮");
}

function $_findFirstInput(){
	var btns = $('input:first');
	alert("第一个按钮的文字是【"+btns[0].value+"】");
}

function createDebugger(e){
	var btn = e.target;
	$(btn).parent().append('<br/><textarea rows="10" cols="120" id="code2"></textarea><input type="button" value="运行" id="runbtn2" onclick="runCode2();"/>');
}

function runCode2(){
	var code=$("#code2")[0].value;
	window.eval(code);
}

$.fn.extend({
	join : function(sep){
		sep = sep||",";
		var ret="";
		this.each(function(i, elem){
			ret +=this.tagName+sep;
		});
		return ret;
	}
});

$(function(){
	//给调试器增加事件
	$("#runbtn1").click(function(e){
		var code = $("#code1")[0].value;
		window.eval(code);
	});
	
	//给创建调试器的按钮增加事件
	$("#debugBtn1").click(function(e){
		createDebugger(e);
	});
	
	window.qobj = $("input");

	//让页面自动滚动到底部(@see http://zww.me/archives/25144)
	$body = (window.opera) ? (document.compatMode == "CSS1Compat" ? $('html') : $('body')) : $('html,body');// 这行是 Opera 的补丁, 少了它 Opera 是直接用跳的而且画面闪烁 by willin
	$body.animate({scrollTop: $('#bottom').offset().top}, 100);
});

</script>
</html>